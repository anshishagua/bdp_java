<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Workflows</title>
    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap-4.0.0.min.css">
    <script type="text/javascript" src="/static/js/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="/static/js/popper.min.js"></script>
    <script type="text/javascript" src="/static/js/bootstrap-4.0.0.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $("tr.workflow").click(function(event) {
                var workflowId = $(this).children().eq(0).html();
                console.log(workflowId);

                window.location.href = "/workflow/details?workflowInstanceId=" + workflowId;
            });
        });
    </script>
</head>
<body>
    <table class="table table-striped" style="width: 90%; margin-left: auto; margin-right: auto">
        <thead>
            <tr>
                <td>id</td>
                <td>Workflow Name</td>
                <td>Status</td>
                <td>Start Time</td>
                <td>End Time</td>
                <td>Action</td>
            </tr>
        </thead>
        <tbody>
            <#list workflows as workflow>
            <tr class="workflow">
                <td>${workflow.id}</td>
                <td>${workflow.workflowName}</td>
                <td>${workflow.status}</td>
                <td>${workflow.startTime}</td>
                <td>${workflow.endTime!}</td>
                <td>
                    <#if (workflow.status == "RUNNING")>
                        <button class="btn btn-primary kill-workflow">Kill</button>
                    <#else>
                        <button class="btn btn-primary rerun-workflow">RERUN</button>
                </#if>
                </td>
            </tr>
            </#list>
        </tbody>
    </table>
    <div class="pagination pagination-right">

    </div>
    <ul class="pagination">
        <li class="previous"><a href="#">&laquo;</a></li>
        <li><a href="#">1</a></li>
        <li><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">5</a></li>
        <li><a href="#">&raquo;</a></li>
    </ul>
</body>
</html>